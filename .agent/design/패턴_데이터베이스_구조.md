# 📚 영어 패턴 데이터베이스 구조

> 📅 작성일: 2026-01-03  
> 🎯 목적: 모든 영어 패턴을 체계적으로 관리하고, 노래와 연결

---

## 🗂️ 패턴 분류 체계

```
1. Self Introduction (자기소개)
2. Questions (질문)
3. Requests & Offers (요청과 제안)
4. Tenses (시제)
5. Modal Verbs (조동사)
6. Prepositions (전치사)
7. Phrasal Verbs (구동사)
8. Emotions & Opinions (감정과 의견)
9. Daily Situations (일상 상황)
10. Advanced Expressions (고급 표현)
```

---

## 📋 패턴 JSON 스키마

```json
{
  "version": "1.0",
  "lastUpdated": "2026-01-03",
  "totalPatterns": 150,
  
  "categories": [
    {
      "id": "self_introduction",
      "name": "Self Introduction",
      "nameKo": "자기소개",
      "level": "beginner",
      "description": "자기 자신을 소개하는 기본 패턴들"
    },
    {
      "id": "questions",
      "name": "Questions",
      "nameKo": "질문",
      "level": "beginner",
      "description": "다양한 의문사와 질문 패턴들"
    }
  ],
  
  "patterns": [
    {
      "id": "i_am_job",
      "code": "PAT_001",
      "name": "I am + 직업/신분",
      "nameEn": "I am + job/profession",
      "level": "beginner",
      "difficulty": 1,
      "category": "self_introduction",
      
      "structure": "I am + (a/an) + [noun]",
      "usage": "자신의 직업, 신분, 국적 등을 소개할 때",
      
      "examples": [
        {
          "en": "I am a student",
          "ko": "나는 학생이야",
          "context": "학교나 처음 만난 사람에게"
        },
        {
          "en": "I am a teacher",
          "ko": "저는 선생님입니다",
          "context": "직업 소개"
        },
        {
          "en": "I am Korean",
          "ko": "나는 한국인이야",
          "context": "국적 소개"
        },
        {
          "en": "I am your friend",
          "ko": "나는 네 친구야",
          "context": "관계 표현"
        }
      ],
      
      "variations": [
        "I'm a...",
        "I am an...",
        "My name is... and I am..."
      ],
      
      "relatedPatterns": [
        "i_am_feeling",
        "i_am_location",
        "he_she_is"
      ],
      
      "commonMistakes": [
        {
          "wrong": "I am student",
          "correct": "I am a student",
          "note": "관사 a/an 잊지 말기"
        }
      ],
      
      "relatedSongs": [
        {
          "songId": "step_001",
          "title": "Good Morning Song",
          "chapter": "beg_chap_001",
          "occurrences": 3
        },
        {
          "songId": "step_054",
          "title": "This Is Me",
          "chapter": "beg_chap_005",
          "occurrences": 8
        }
      ],
      
      "practiceExercises": [
        {
          "type": "fill_blank",
          "question": "I ___ a doctor.",
          "answer": "am",
          "options": ["am", "is", "are"]
        },
        {
          "type": "translation",
          "korean": "나는 선생님이야",
          "answer": "I am a teacher"
        }
      ]
    },
    
    {
      "id": "i_am_feeling",
      "code": "PAT_002",
      "name": "I am + 감정",
      "nameEn": "I am + feeling/emotion",
      "level": "beginner",
      "difficulty": 1,
      "category": "emotions",
      
      "structure": "I am + [adjective]",
      "usage": "현재 감정 상태나 느낌을 표현할 때",
      
      "examples": [
        {
          "en": "I am happy",
          "ko": "나는 행복해",
          "context": "기분 좋을 때"
        },
        {
          "en": "I am tired",
          "ko": "나는 피곤해",
          "context": "지쳤을 때"
        },
        {
          "en": "I am excited",
          "ko": "나는 신나",
          "context": "설렐 때"
        },
        {
          "en": "I am sad",
          "ko": "나는 슬퍼",
          "context": "우울할 때"
        }
      ],
      
      "variations": [
        "I'm feeling...",
        "I feel...",
        "I'm so..."
      ],
      
      "relatedPatterns": [
        "i_am_job",
        "how_are_you",
        "he_she_is_feeling"
      ],
      
      "relatedSongs": [
        {
          "songId": "step_002",
          "title": "Happy Feelings",
          "chapter": "beg_chap_001",
          "occurrences": 12
        },
        {
          "songId": "step_015",
          "title": "How I Feel Today",
          "chapter": "beg_chap_001",
          "occurrences": 10
        }
      ]
    },
    
    {
      "id": "can_i_request",
      "code": "PAT_015",
      "name": "Can I...? (허가 요청)",
      "nameEn": "Can I...? (asking permission)",
      "level": "beginner",
      "difficulty": 2,
      "category": "requests",
      
      "structure": "Can I + [verb] + (object)?",
      "usage": "허가를 구하거나 정중하게 무언가를 요청할 때",
      
      "examples": [
        {
          "en": "Can I have a coffee?",
          "ko": "커피 한 잔 주실 수 있나요?",
          "context": "카페에서 주문"
        },
        {
          "en": "Can I use the bathroom?",
          "ko": "화장실 써도 될까요?",
          "context": "공공장소에서"
        },
        {
          "en": "Can I sit here?",
          "ko": "여기 앉아도 돼요?",
          "context": "자리 물을 때"
        },
        {
          "en": "Can I ask you something?",
          "ko": "질문 하나 해도 될까요?",
          "context": "질문 전에"
        },
        {
          "en": "Can I try this on?",
          "ko": "이거 입어봐도 돼요?",
          "context": "옷 가게에서"
        }
      ],
      
      "variations": [
        "Could I...? (더 정중)",
        "May I...? (격식)",
        "Can I please...?"
      ],
      
      "relatedPatterns": [
        "can_you_request",
        "could_you_request",
        "would_you_like"
      ],
      
      "commonMistakes": [
        {
          "wrong": "Can I to go?",
          "correct": "Can I go?",
          "note": "Can 뒤에는 동사원형 (to 없이)"
        }
      ],
      
      "responsePatterns": [
        "Sure! / Of course!",
        "Yes, you can",
        "Go ahead",
        "Sorry, you can't",
        "I'm afraid not"
      ],
      
      "relatedSongs": [
        {
          "songId": "step_002",
          "title": "Coffee Shop Talk",
          "chapter": "beg_chap_002",
          "occurrences": 6,
          "featured": true
        },
        {
          "songId": "step_016",
          "title": "At the Bakery",
          "chapter": "beg_chap_002",
          "occurrences": 4
        },
        {
          "songId": "step_019",
          "title": "Clothes Shopping",
          "chapter": "beg_chap_002",
          "occurrences": 5
        }
      ],
      
      "situationalContexts": [
        "ordering_food",
        "shopping",
        "asking_permission",
        "daily_requests"
      ]
    },
    
    {
      "id": "present_simple_i",
      "code": "PAT_030",
      "name": "I + 동사 (현재 단순)",
      "nameEn": "Present Simple - I + verb",
      "level": "beginner",
      "difficulty": 2,
      "category": "tenses",
      
      "structure": "I + [verb] + (object) + (time/frequency)",
      "usage": "습관, 일상 활동, 일반적인 사실을 표현",
      
      "examples": [
        {
          "en": "I wake up at 7 every day",
          "ko": "나는 매일 7시에 일어나",
          "context": "일상 습관"
        },
        {
          "en": "I eat breakfast at home",
          "ko": "나는 집에서 아침을 먹어",
          "context": "식사 습관"
        },
        {
          "en": "I go to school by bus",
          "ko": "나는 버스로 학교에 가",
          "context": "통학 방법"
        },
        {
          "en": "I like music",
          "ko": "나는 음악을 좋아해",
          "context": "취향"
        },
        {
          "en": "I work at a company",
          "ko": "나는 회사에서 일해",
          "context": "직업 활동"
        }
      ],
      
      "timeExpressions": [
        "every day",
        "always",
        "usually",
        "sometimes",
        "never",
        "on Mondays",
        "at 7 o'clock"
      ],
      
      "commonVerbs": [
        "wake up",
        "eat",
        "go",
        "work",
        "study",
        "play",
        "watch",
        "listen",
        "read",
        "sleep"
      ],
      
      "relatedPatterns": [
        "he_she_verb_s",
        "present_continuous",
        "i_dont_verb"
      ],
      
      "relatedSongs": [
        {
          "songId": "step_001",
          "title": "Good Morning Song",
          "chapter": "beg_chap_001",
          "occurrences": 15,
          "featured": true
        },
        {
          "songId": "step_056",
          "title": "Every Day Hustle",
          "chapter": "beg_chap_005",
          "occurrences": 12
        },
        {
          "songId": "step_061",
          "title": "My Daily Routine",
          "chapter": "elem_chap_006",
          "occurrences": 20
        }
      ]
    },
    
    {
      "id": "present_continuous",
      "code": "PAT_035",
      "name": "I'm -ing (현재 진행)",
      "nameEn": "Present Continuous - I'm + verb-ing",
      "level": "elementary",
      "difficulty": 3,
      "category": "tenses",
      
      "structure": "I am + [verb]-ing + (object)",
      "usage": "지금 이 순간 하고 있는 행동 표현",
      
      "examples": [
        {
          "en": "I'm working right now",
          "ko": "나 지금 일하는 중이야",
          "context": "현재 진행 중인 일"
        },
        {
          "en": "I'm eating lunch",
          "ko": "나 점심 먹는 중이야",
          "context": "식사 중"
        },
        {
          "en": "I'm waiting for you",
          "ko": "나 너 기다리는 중이야",
          "context": "누군가를 기다림"
        },
        {
          "en": "I'm watching TV",
          "ko": "나 TV 보는 중이야",
          "context": "여가 활동"
        }
      ],
      
      "formRules": {
        "regular": "verb + -ing (working, eating)",
        "e_ending": "remove e + -ing (making, taking)",
        "cvc_doubling": "double last consonant + -ing (running, sitting)"
      },
      
      "timeExpressions": [
        "right now",
        "at the moment",
        "currently",
        "now",
        "today"
      ],
      
      "relatedPatterns": [
        "what_are_you_doing",
        "he_she_is_ing",
        "present_simple_i"
      ],
      
      "relatedSongs": [
        {
          "songId": "step_066",
          "title": "Right Now",
          "chapter": "elem_chap_006",
          "occurrences": 18,
          "featured": true
        },
        {
          "songId": "step_067",
          "title": "What Are You Doing?",
          "chapter": "elem_chap_006",
          "occurrences": 14
        }
      ]
    },
    
    {
      "id": "would_you_like",
      "code": "PAT_020",
      "name": "Would you like...? (정중한 제안)",
      "nameEn": "Would you like...? (polite offer)",
      "level": "beginner",
      "difficulty": 2,
      "category": "requests",
      
      "structure": "Would you like + [noun/to verb]?",
      "usage": "상대방에게 정중하게 무언가를 제안하거나 권유할 때",
      
      "examples": [
        {
          "en": "Would you like some coffee?",
          "ko": "커피 드실래요?",
          "context": "음료 권유"
        },
        {
          "en": "Would you like to join us?",
          "ko": "우리랑 함께 하실래요?",
          "context": "초대"
        },
        {
          "en": "What size would you like?",
          "ko": "사이즈 어떤 걸로 하시겠어요?",
          "context": "주문 받을 때"
        }
      ],
      
      "responses": [
        "Yes, please",
        "I'd love to",
        "That sounds great",
        "No, thank you",
        "I'm okay, thanks"
      ],
      
      "relatedPatterns": [
        "would_like_to",
        "can_i_request",
        "do_you_want"
      ],
      
      "relatedSongs": [
        {
          "songId": "step_002",
          "title": "Coffee Shop Talk",
          "chapter": "beg_chap_002",
          "occurrences": 5,
          "featured": true
        },
        {
          "songId": "step_023",
          "title": "Restaurant Order",
          "chapter": "beg_chap_002",
          "occurrences": 4
        }
      ]
    },
    
    {
      "id": "i_like_noun",
      "code": "PAT_008",
      "name": "I like + 명사",
      "nameEn": "I like + noun",
      "level": "beginner",
      "difficulty": 1,
      "category": "preferences",
      
      "structure": "I like + [noun]",
      "usage": "좋아하는 것을 표현할 때",
      
      "examples": [
        {
          "en": "I like music",
          "ko": "나는 음악을 좋아해",
          "context": "취미"
        },
        {
          "en": "I like pizza",
          "ko": "나는 피자를 좋아해",
          "context": "음식"
        },
        {
          "en": "I like this place",
          "ko": "나는 이 장소가 좋아",
          "context": "장소"
        }
      ],
      
      "relatedPatterns": [
        "i_love_noun",
        "i_dont_like",
        "do_you_like",
        "i_like_verb_ing"
      ],
      
      "relatedSongs": [
        {
          "songId": "step_006",
          "title": "What I Like",
          "chapter": "beg_chap_001",
          "occurrences": 10,
          "featured": true
        },
        {
          "songId": "step_055",
          "title": "My Favorite Things",
          "chapter": "beg_chap_005",
          "occurrences": 8
        }
      ]
    }
  ],
  
  "patternRelationships": [
    {
      "type": "progression",
      "from": "i_am_job",
      "to": "he_she_is_job",
      "reason": "1인칭에서 3인칭으로 확장"
    },
    {
      "type": "alternative",
      "patterns": ["can_i_request", "could_i_request", "may_i_request"],
      "reason": "같은 기능, 정중함의 정도 차이"
    },
    {
      "type": "contrast",
      "from": "present_simple",
      "to": "present_continuous",
      "reason": "습관 vs 진행 중인 행동"
    }
  ],
  
  "learningPaths": [
    {
      "pathId": "beginner_essentials",
      "name": "Beginner Essentials",
      "nameKo": "초급 필수 패턴",
      "patterns": [
        "i_am_job",
        "i_am_feeling",
        "i_like_noun",
        "can_i_request",
        "present_simple_i",
        "i_have_noun",
        "i_want_noun",
        "what_is",
        "where_is",
        "how_are_you"
      ]
    },
    {
      "pathId": "cafe_shopping",
      "name": "Cafe & Shopping Survival",
      "nameKo": "카페 & 쇼핑 생존 영어",
      "patterns": [
        "can_i_request",
        "would_you_like",
        "how_much",
        "i_want_noun",
        "id_like",
        "what_size",
        "do_you_have"
      ]
    },
    {
      "pathId": "tense_master",
      "name": "Tense Master",
      "nameKo": "시제 마스터",
      "patterns": [
        "present_simple_i",
        "present_continuous",
        "past_simple",
        "present_perfect",
        "future_will",
        "future_going_to"
      ]
    }
  ]
}
```

---

## 🔄 패턴과 노래의 연결 구조

### 방향 1: 패턴 → 노래 검색
```
사용자가 "Can I...?" 패턴을 배우고 싶음
→ patterns.json에서 "can_i_request" 검색
→ relatedSongs 확인
→ Step 2 (Coffee Shop Talk), Step 16 (At the Bakery) 등 추천
```

### 방향 2: 노래 → 포함 패턴 표시
```
사용자가 "Coffee Shop Talk" 노래 재생
→ step_002_metadata.json 확인
→ patterns: ["can_i_request", "would_you_like", "id_like"]
→ 각 패턴의 상세 정보를 patterns.json에서 가져와 표시
```

---

## 📊 패턴 통계 및 분석

```json
{
  "statistics": {
    "totalPatterns": 150,
    "byLevel": {
      "beginner": 50,
      "elementary": 40,
      "intermediate": 30,
      "upper_intermediate": 20,
      "advanced": 10
    },
    "byCategory": {
      "self_introduction": 8,
      "questions": 25,
      "requests": 15,
      "tenses": 20,
      "modal_verbs": 12,
      "prepositions": 18,
      "phrasal_verbs": 25,
      "emotions": 10,
      "situations": 17
    },
    "mostUsedInSongs": [
      {
        "patternId": "can_i_request",
        "occurrences": 25,
        "songCount": 15
      },
      {
        "patternId": "present_simple_i",
        "occurrences": 50,
        "songCount": 20
      }
    ]
  }
}
```

---

## 🎯 활용 예시

### 1. 패턴 검색 기능
```javascript
// 특정 패턴 찾기
function findPattern(patternId) {
  const pattern = patterns.find(p => p.id === patternId);
  const relatedSongs = pattern.relatedSongs;
  return { pattern, relatedSongs };
}

// 카테고리별 패턴 필터링
function getPatternsByCategory(category) {
  return patterns.filter(p => p.category === category);
}
```

### 2. 노래에서 패턴 정보 가져오기
```javascript
// 노래에 포함된 모든 패턴 정보 표시
function getSongPatterns(songMetadata) {
  const patternIds = songMetadata.patterns;
  return patternIds.map(id => {
    return patterns.find(p => p.id === id);
  });
}
```

### 3. 학습 경로 추천
```javascript
// 사용자 레벨에 맞는 패턴 추천
function recommendPatterns(userLevel) {
  return patterns.filter(p => p.level === userLevel)
                  .sort((a, b) => a.difficulty - b.difficulty);
}
```

---

## ✅ 다음 단계

1. ✅ **patterns.json 파일 생성** (50개 핵심 패턴)
2. ⬜ 기존 노래 메타데이터에 패턴 태그 추가
3. ⬜ Unity에서 패턴 검색/필터 기능 구현
4. ⬜ 패턴별 학습 통계 트래킹

이 구조로 하면 **패턴 정보는 체계적으로 관리**하면서, **노래는 자연스럽게 작곡**할 수 있습니다!
